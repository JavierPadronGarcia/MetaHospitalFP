{"version":3,"file":"main.js","mappings":"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","sources":["webpack://@jsreport/jsreport-scripts/external var \"Studio.libraries['react']\"","webpack://@jsreport/jsreport-scripts/external var \"Studio\"","webpack://@jsreport/jsreport-scripts/./studio/scopeOptions.js","webpack://@jsreport/jsreport-scripts/./studio/NewScriptModal.js","webpack://@jsreport/jsreport-scripts/./studio/ScriptEditor.js","webpack://@jsreport/jsreport-scripts/./studio/TemplateScriptProperties.js","webpack://@jsreport/jsreport-scripts/external var \"Studio.runtime['helpers/extends']\"","webpack://@jsreport/jsreport-scripts/./studio/ScriptProperties.js","webpack://@jsreport/jsreport-scripts/webpack/bootstrap","webpack://@jsreport/jsreport-scripts/webpack/runtime/compat get default export","webpack://@jsreport/jsreport-scripts/webpack/runtime/define property getters","webpack://@jsreport/jsreport-scripts/webpack/runtime/hasOwnProperty shorthand","webpack://@jsreport/jsreport-scripts/webpack/runtime/make namespace object","webpack://@jsreport/jsreport-scripts/./studio/main_dev.js"],"sourcesContent":["module.exports = Studio.libraries['react'];","module.exports = Studio;","\nexport default [{\n  key: 'template',\n  title: 'template',\n  value: 'template',\n  desc: 'script will only run for the templates it is being explicitly attached'\n}, {\n  key: 'global',\n  title: 'global',\n  value: 'global',\n  desc: 'script will run for all templates'\n}, {\n  key: 'folder',\n  title: 'folder',\n  value: 'folder',\n  desc: 'script will run for all templates in the same folder hierarchy'\n}]\n","import React, { Component } from 'react'\nimport scopeOptions from './scopeOptions'\nimport Studio from 'jsreport-studio'\n\nclass NewScriptModal extends Component {\n  constructor (props) {\n    super(props)\n\n    this.nameInputRef = React.createRef()\n\n    this.state = {\n      selectedScope: 'template',\n      error: null,\n      processing: false\n    }\n  }\n\n  // the modal component for some reason after open focuses the panel itself\n  componentDidMount () {\n    setTimeout(() => this.nameInputRef.current.focus(), 0)\n  }\n\n  handleKeyPress (e) {\n    if (e.key === 'Enter') {\n      this.submit(e.target.value)\n    }\n  }\n\n  async submit (val) {\n    if (this.state.processing) {\n      return\n    }\n\n    const name = val || this.nameInputRef.current.value\n\n    const entity = {\n      ...this.props.options.defaults,\n      name,\n      scope: this.state.selectedScope,\n      __entitySet: 'scripts'\n    }\n\n    this.setState({ processing: true })\n\n    try {\n      await Studio.api.post('/studio/validate-entity-name', {\n        data: {\n          _id: this.props.options.cloning === true ? undefined : entity._id,\n          name: name,\n          entitySet: 'scripts',\n          folderShortid: entity.folder != null ? entity.folder.shortid : null\n        }\n      }, true)\n    } catch (e) {\n      this.setState({\n        error: e.message,\n        processing: false\n      })\n\n      return\n    }\n\n    this.setState({\n      error: null,\n      processing: false\n    })\n\n    this.props.close()\n\n    Studio.openNewTab({\n      entity,\n      entitySet: 'scripts',\n      name\n    })\n  }\n\n  render () {\n    const { selectedScope, error, processing } = this.state\n    const currentScopeValue = selectedScope\n    const currentScopeOption = scopeOptions.find((opt) => opt.value === currentScopeValue)\n\n    return (\n      <div>\n        <div className='form-group'>\n          <label>New script</label>\n        </div>\n        <div className='form-group'>\n          <label>name</label>\n          <input\n            type='text'\n            placeholder='name...'\n            ref={this.nameInputRef}\n            onKeyPress={(e) => this.handleKeyPress(e)}\n          />\n        </div>\n        <div className='form-group'>\n          <label>scope</label>\n          <select\n            value={currentScopeValue}\n            onChange={(v) => {\n              const newScope = v.target.value\n\n              this.setState({\n                selectedScope: newScope\n              })\n            }}\n          >\n            {scopeOptions.map((opt) => (\n              <option key={opt.key} value={opt.value} title={opt.desc}>{opt.title}</option>\n            ))}\n          </select>\n          <em>{currentScopeOption.desc}</em>\n        </div>\n        <div className='form-group'>\n          <span\n            style={{\n              color: 'red',\n              display: error ? 'block' : 'none',\n              marginLeft: 'auto',\n              marginRight: 'auto',\n              maxWidth: '360px'\n            }}\n          >\n            {error}\n          </span>\n        </div>\n        <div className='button-bar'>\n          <button className='button confirmation' disabled={processing} onClick={() => this.submit()}>Ok</button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default NewScriptModal\n","import React, { Component } from 'react'\nimport { TextEditor } from 'jsreport-studio'\n\nexport default class ScriptEditor extends Component {\n  render () {\n    const { entity, onUpdate } = this.props\n\n    return (\n      <TextEditor\n        name={entity._id}\n        mode='javascript'\n        value={entity.content}\n        onUpdate={(v) => onUpdate(Object.assign({}, entity, { content: v }))}\n      />\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport Studio from 'jsreport-studio'\n\nconst EntityRefSelect = Studio.EntityRefSelect\nconst sharedComponents = Studio.sharedComponents\n\nclass TemplateScriptProperties extends Component {\n  static getSelectedScripts (entity, entities) {\n    const getName = (s) => {\n      const foundScripts = Object.keys(entities).map((k) => entities[k]).filter((sc) => sc.shortid === s.shortid)\n\n      return foundScripts.length ? foundScripts[0].name : ''\n    }\n\n    return (entity.scripts || []).map((s) => ({\n      ...s,\n      name: getName(s)\n    }))\n  }\n\n  renderOrder () {\n    const scripts = TemplateScriptProperties.getSelectedScripts(this.props.entity, this.props.entities)\n\n    return (\n      <span>{scripts.map((s) => <span key={s.shortid}>{s.name + ' '}</span>)}</span>\n    )\n  }\n\n  componentDidMount () {\n    this.removeInvalidScriptReferences()\n  }\n\n  componentDidUpdate () {\n    this.removeInvalidScriptReferences()\n  }\n\n  static title (entity, entities) {\n    if (!entity.scripts || !entity.scripts.length) {\n      return 'scripts'\n    }\n\n    return 'scripts: ' + TemplateScriptProperties.getSelectedScripts(entity, entities).map((s) => s.name).join(', ')\n  }\n\n  removeInvalidScriptReferences () {\n    const { entity, entities, onChange } = this.props\n\n    if (!entity.scripts) {\n      return\n    }\n\n    const updatedScripts = entity.scripts.filter((s) => Object.keys(entities).filter((k) => (\n      entities[k].__entitySet === 'scripts' &&\n      entities[k].shortid === s.shortid &&\n      (entities[k].scope === 'template' || (entities[k].scope == null && !entities[k].isGlobal))\n    )).length)\n\n    if (updatedScripts.length !== entity.scripts.length) {\n      onChange({ _id: entity._id, scripts: updatedScripts })\n    }\n  }\n\n  render () {\n    const { entity, onChange } = this.props\n\n    return (\n      <div className='properties-section'>\n        <div className='form-group'>\n          <EntityRefSelect\n            headingLabel='Select script'\n            newLabel='New script for template'\n            filter={(references) => {\n              const scripts = references.scripts.filter((e) => {\n                return e.scope === 'template' || (e.scope == null && !e.isGlobal)\n              })\n              return { scripts: scripts }\n            }}\n            value={entity.scripts ? entity.scripts.map((s) => s.shortid) : []}\n            onChange={(selected) => onChange({ _id: entity._id, scripts: selected.map((s) => ({ shortid: s.shortid })) })}\n            renderNew={(modalProps) => <sharedComponents.NewEntityModal {...modalProps} options={{ ...modalProps.options, entitySet: 'scripts', defaults: { folder: entity.folder }, activateNewTab: false }} />}\n            multiple\n          />\n          {(entity.scripts && entity.scripts.length) ? <div><span>Run order:</span>{this.renderOrder()}</div> : <div />}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default TemplateScriptProperties\n","module.exports = Studio.runtime['helpers/extends'];","import React, { Component } from 'react'\nimport scopeOptions from './scopeOptions'\n\nclass ScriptProperties extends Component {\n  static title (entity, entities) {\n    if (entity.scope != null) {\n      return `scripts (scope: ${entity.scope})`\n    }\n\n    return 'scripts'\n  }\n\n  componentDidMount () {\n    this.removeOldIsGlobalProperty()\n  }\n\n  componentDidUpdate () {\n    this.removeOldIsGlobalProperty()\n  }\n\n  removeOldIsGlobalProperty () {\n    const { entity, onChange } = this.props\n\n    if (entity.isGlobal === true) {\n      onChange({ _id: entity._id, scope: 'global', isGlobal: false })\n    } else if (entity.scope == null && !entity.isGlobal) {\n      onChange({ _id: entity._id, scope: 'template', isGlobal: false })\n    }\n  }\n\n  render () {\n    const { entity, onChange } = this.props\n\n    const currentScopeValue = entity.scope != null ? entity.scope : 'template'\n    const currentScopeOption = scopeOptions.find((opt) => opt.value === currentScopeValue)\n\n    return (\n      <div className='properties-section'>\n        <div className='form-group'>\n          <label>scope</label>\n          <select\n            value={currentScopeValue}\n            onChange={(v) => {\n              const newScope = v.target.value\n              onChange({ _id: entity._id, scope: newScope })\n            }}\n          >\n            {scopeOptions.map((opt) => (\n              <option key={opt.key} value={opt.value} title={opt.desc}>{opt.title}</option>\n            ))}\n          </select>\n          <em>{currentScopeOption.desc}</em>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default ScriptProperties\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import NewScriptModal from './NewScriptModal'\nimport ScriptEditor from './ScriptEditor'\nimport TemplateScriptProperties from './TemplateScriptProperties'\nimport ScriptProperties from './ScriptProperties'\nimport Studio from 'jsreport-studio'\n\nStudio.addEntitySet({\n  name: 'scripts',\n  faIcon: 'fa-cog',\n  visibleName: 'script',\n  onNew: (options) => Studio.openModal(NewScriptModal, options),\n  helpUrl: 'http://jsreport.net/learn/scripts',\n  referenceAttributes: ['isGlobal', 'scope'],\n  entityTreePosition: 800\n})\n\nStudio.addPropertiesComponent(TemplateScriptProperties.title, TemplateScriptProperties, (entity) => entity.__entitySet === 'templates')\nStudio.addPropertiesComponent(ScriptProperties.title, ScriptProperties, (entity) => entity.__entitySet === 'scripts')\n\nStudio.addEditorComponent('scripts', ScriptEditor, (reformatter, entity) => ({ content: reformatter(entity.content, 'js') }))\n\nStudio.runListeners.push((request, entities) => {\n  if (!request.template.scripts) {\n    return\n  }\n\n  request.template.scripts = request.template.scripts.map((s) => {\n    const script = Studio.getEntityByShortid(s.shortid, false)\n\n    if (!script) {\n      return s\n    }\n\n    return script\n  }).filter((s) => !s.__isNew || s.content)\n})\n\nStudio.entityNewListeners.push((entity) => {\n  if (entity.__entitySet === 'scripts' && entity.content == null) {\n    entity.content = getDefaultScriptContent()\n  }\n})\n\nStudio.entitySaveListeners.push((entity) => {\n  if (\n    entity.__entitySet === 'scripts' &&\n    entity.content != null &&\n    entity.content.indexOf('function beforeRender') === -1 &&\n    entity.content.indexOf('function afterRender') === -1\n  ) {\n    Studio.openModal(() => (\n      <div>\n        The script \"{entity.name}\" doesn't have a function hook defined. This means the script won't do anything. You should define either \"beforeRender\" or \"afterRender\" function hooks.\n        <br />See the <a href='https://jsreport.net/learn/scripts'>scripts documentation</a> for the details.\n      </div>\n    ))\n  }\n})\n\nStudio.entityTreeIconResolvers.push((entity) => {\n  if (\n    entity.__entitySet === 'scripts' &&\n    (\n      (\n        Object.prototype.hasOwnProperty.call(entity, 'scope') &&\n        (entity.scope === 'global' ||\n        entity.scope === 'folder')\n      ) || entity.isGlobal\n    )\n  ) {\n    return 'fa-cogs'\n  }\n\n  return null\n})\n\nfunction getDefaultScriptContent () {\n  return (\n    `// Use the \"beforeRender\" or \"afterRender\" hook\n// to manipulate and control the report generation\nasync function beforeRender (req, res) {\n\n}`)\n}\n"],"names":["key","title","value","desc","React","Component","scopeOptions","Studio","NewScriptModal","constructor","props","nameInputRef","createRef","state","selectedScope","error","processing","componentDidMount","setTimeout","current","focus","handleKeyPress","e","submit","target","val","name","entity","options","defaults","scope","__entitySet","setState","api","post","data","_id","cloning","undefined","entitySet","folderShortid","folder","shortid","message","close","openNewTab","render","currentScopeValue","currentScopeOption","find","opt","createElement","className","type","placeholder","ref","onKeyPress","onChange","v","newScope","map","style","color","display","marginLeft","marginRight","maxWidth","disabled","onClick","TextEditor","ScriptEditor","onUpdate","mode","content","Object","assign","EntityRefSelect","sharedComponents","TemplateScriptProperties","getSelectedScripts","entities","getName","s","foundScripts","keys","k","filter","sc","length","scripts","renderOrder","removeInvalidScriptReferences","componentDidUpdate","join","updatedScripts","isGlobal","headingLabel","newLabel","references","selected","renderNew","modalProps","NewEntityModal","_extends","activateNewTab","multiple","ScriptProperties","removeOldIsGlobalProperty","addEntitySet","faIcon","visibleName","onNew","openModal","helpUrl","referenceAttributes","entityTreePosition","addPropertiesComponent","addEditorComponent","reformatter","runListeners","push","request","template","script","getEntityByShortid","__isNew","entityNewListeners","getDefaultScriptContent","entitySaveListeners","indexOf","href","entityTreeIconResolvers","prototype","hasOwnProperty","call"],"sourceRoot":""}