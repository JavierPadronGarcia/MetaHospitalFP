{"type":"operationStart","subtype":"profile","data":{"_id":"l1vfva0NXQ03YyC2","timestamp":"2024-02-16T00:37:42.691Z","state":"queued","mode":"standard","creationDate":"2024-02-16T00:37:42.693Z","modificationDate":"2024-02-16T00:37:42.693Z","shortid":"6nlz27b","$entitySet":"profiles"},"doDiffs":false,"timestamp":1708043862692,"id":"kcx74s2b5japy24","previousOperationId":null,"operationId":"we0zyuo3cgm53mi"}
{"type":"log","level":"info","message":"Render request 12 queued for execution and waiting for available worker","previousOperationId":"we0zyuo3cgm53mi","timestamp":1708043862693,"id":"agmdxscne7pup24"}
{"type":"operationStart","subtype":"render","name":"AveragePunctuation","previousOperationId":"we0zyuo3cgm53mi","timestamp":1708043862700,"id":"vtce62kcggydzus","previousEventId":"kcx74s2b5japy24","operationId":"rvfplmfkuj5rfdi"}
{"type":"log","timestamp":1708043862700,"level":"info","message":"Starting rendering request 12","meta":{"rootId":"3ht0lhq7ud9s933","id":"3ht0lhq7ud9s933"},"id":"9q1957wx9nrfpnp","previousOperationId":"rvfplmfkuj5rfdi"}
{"type":"log","timestamp":1708043862700,"level":"info","message":"Rendering template { name: AveragePunctuation, recipe: chrome-pdf, engine: handlebars, preview: true }","meta":{"rootId":"3ht0lhq7ud9s933","id":"3ht0lhq7ud9s933"},"id":"i4dwee3qwtw681b","previousOperationId":"rvfplmfkuj5rfdi"}
{"type":"log","timestamp":1708043862701,"level":"debug","message":"Data item not defined for this template.","meta":{"rootId":"3ht0lhq7ud9s933","id":"3ht0lhq7ud9s933"},"id":"9o4wwyln95vtaw2","previousOperationId":"rvfplmfkuj5rfdi"}
{"type":"log","timestamp":1708043862703,"level":"debug","message":"Executing script AveragePunctuation-script (beforeRender)","meta":{"rootId":"3ht0lhq7ud9s933","id":"3ht0lhq7ud9s933"},"id":"koc1k95hy7oi7s0","previousOperationId":"rvfplmfkuj5rfdi"}
{"type":"operationStart","subtype":"scriptsBeforeRender","name":"scripts beforeRender","timestamp":1708043862741,"id":"p9qy6x680xujv70","previousEventId":"vtce62kcggydzus","operationId":"ld1tmqiurizm9f8","previousOperationId":"rvfplmfkuj5rfdi"}
{"type":"operationStart","subtype":"script","name":"scripts AveragePunctuation-script","previousOperationId":"ld1tmqiurizm9f8","timestamp":1708043862741,"id":"lsymab1qqn3x436","previousEventId":"p9qy6x680xujv70","operationId":"xuq59o7wfoigary"}
{"type":"operationEnd","operationId":"xuq59o7wfoigary","timestamp":1708043862760,"id":"gdxkbft2d6enmkp","previousEventId":"vtce62kcggydzus","previousOperationId":"rvfplmfkuj5rfdi"}
{"type":"operationEnd","operationId":"ld1tmqiurizm9f8","timestamp":1708043862760,"id":"lcmkt9pqntqorus","previousEventId":"gdxkbft2d6enmkp","previousOperationId":"rvfplmfkuj5rfdi"}
{"type":"log","timestamp":1708043862760,"level":"debug","message":"Base url not specified, skipping its injection.","meta":{"rootId":"3ht0lhq7ud9s933","id":"3ht0lhq7ud9s933"},"id":"5bxheibn20amjdy","previousOperationId":"ld1tmqiurizm9f8"}
{"type":"operationStart","subtype":"engine","name":"handlebars","timestamp":1708043862760,"id":"lg1i6crolzoa4fx","previousEventId":"lcmkt9pqntqorus","operationId":"yqjzyzxcnfl6y3o","previousOperationId":"ld1tmqiurizm9f8"}
{"type":"log","timestamp":1708043862760,"level":"debug","message":"Rendering engine handlebars","meta":{"rootId":"3ht0lhq7ud9s933","id":"3ht0lhq7ud9s933"},"id":"ri7l0c9tje7i407","previousOperationId":"yqjzyzxcnfl6y3o"}
{"type":"log","timestamp":1708043862779,"level":"warn","message":"Error when processing render request 12\n(because) error when evaluating engine handlebars for template /templates/AveragePunctuations/AveragePunctuation\n(because) parse error on line 72:\n...       <td>{{@index + 1}}</td>         \n-----------------------^\nExpecting 'CLOSE_RAW_BLOCK', 'CLOSE', 'CLOSE_UNESCAPED', 'OPEN_SEXPR', 'CLOSE_SEXPR', 'ID', 'OPEN_BLOCK_PARAMS', 'STRING', 'NUMBER', 'BOOLEAN', 'UNDEFINED', 'NULL', 'DATA', 'SEP', got 'INVALID'\n\n(sandbox.js line 37:18)\nError: Parse error on line 72:\n...       <td>{{@index + 1}}</td>         \n-----------------------^\nExpecting 'CLOSE_RAW_BLOCK', 'CLOSE', 'CLOSE_UNESCAPED', 'OPEN_SEXPR', 'CLOSE_SEXPR', 'ID', 'OPEN_BLOCK_PARAMS', 'STRING', 'NUMBER', 'BOOLEAN', 'UNDEFINED', 'NULL', 'DATA', 'SEP', got 'INVALID'\n    at Parser.parseError (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\handlebars\\dist\\cjs\\handlebars\\compiler\\parser.js:267:19)\n    at Parser.parse (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\handlebars\\dist\\cjs\\handlebars\\compiler\\parser.js:336:30)\n    at parseWithoutProcessing (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\handlebars\\dist\\cjs\\handlebars\\compiler\\base.js:46:33)\n    at HandlebarsEnvironment.parse (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\handlebars\\dist\\cjs\\handlebars\\compiler\\base.js:52:13)\n    at Object.precompile (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\handlebars\\dist\\cjs\\handlebars\\compiler\\compiler.js:485:17)\n    at hb.precompile (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\handlebars\\dist\\cjs\\handlebars.js:42:40)\n    at Object.compile (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\handlebarsEngine.js:34:52)\n    at Object.compile (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\worker.js:26:43)\n    at executionFn (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:201:42)\n    at sandbox.js:37:18\nwrapped by:\nError: Error when evaluating engine handlebars for template /templates/AveragePunctuations/AveragePunctuation\n(because) parse error on line 72:\n...       <td>{{@index + 1}}</td>         \n-----------------------^\nExpecting 'CLOSE_RAW_BLOCK', 'CLOSE', 'CLOSE_UNESCAPED', 'OPEN_SEXPR', 'CLOSE_SEXPR', 'ID', 'OPEN_BLOCK_PARAMS', 'STRING', 'NUMBER', 'BOOLEAN', 'UNDEFINED', 'NULL', 'DATA', 'SEP', got 'INVALID'\n    at module.exports (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n    at WorkerReporter.createError (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:49:12)\n    at executeEngine (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:310:33)\n    at async engine.engine (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:115:14)\n    at async invokeRender (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:61:23)\n    at async WorkerReporter._render (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:142:7)\n    at async C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:224:19\n    at async processAndResponse (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:41:17)","meta":{"rootId":"3ht0lhq7ud9s933","id":"3ht0lhq7ud9s933"},"id":"hrjuoks11u8b871","previousOperationId":"yqjzyzxcnfl6y3o"}
{"type":"log","timestamp":1708043862779,"level":"warn","message":"Rendering request 12 finished with error in 88 ms","meta":{"rootId":"3ht0lhq7ud9s933","id":"3ht0lhq7ud9s933"},"id":"c40zar4bws9vi3z","previousOperationId":"yqjzyzxcnfl6y3o"}
{"type":"error","timestamp":1708043862783,"entity":{"shortid":"7ggS5RqZL2","name":"AveragePunctuation","content":"<html>\n\n<head>\n    <meta content=\"text/html; charset=utf-8\" http-equiv=\"Content-Type\">\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/metro/4.1.5/css/metro.min.css\">\n    <script src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js'></script>\n    <style>\n        * {\n            box-sizing: border-box;\n        }\n\n        html,\n        body {\n            margin: 0px;\n            padding: 0px;\n        }\n\n        h1 {\n            padding-left: 1rem;\n        }\n\n        .header {\n            width: 100%;\n            padding-top: 10px;\n            display: flex;\n            justify-content: space-between;\n            padding-inline: 2rem;\n        }\n\n        .header>div {\n            width: 100%;\n        }\n\n        .header>div:last-child {\n            text-align: end;\n        }\n\n        .main {\n            width: 100%;\n            height: 960px;\n            padding-inline: 1rem;\n        }\n\n        .footer {\n            width: 100%;\n            border-top: 1px solid black;\n            padding-left: 1rem;\n        }\n    </style>\n</head>\n\n<body>\n    <h1>Reporte de notas</h1>\n    {{#each userActivities}}\n    <main class=\"main\">\n        <header class=\"header\">\n            <div>{{username}}</div>\n            <div>Media: {{getAveragePunctuation items}}</div>\n        </header>\n        <canvas id='userChart{{userId}}' style=\"margin-bottom:30px\"></canvas>\n        <table class='table striped'>\n            <thead>\n                <tr>\n                    <th>Número</th>\n                    <th>Apartado</th>\n                    <th>Puntuación</th>\n                </tr>\n            </thead>\n            <tbody>\n                {{#each items}}\n                <tr>\n                    <td>{{@index + 1}}</td>\n                    <td>{{itemName}}</td>\n                    <td>{{gradeValue}}</td>\n                </tr>\n                {{/each}}\n            </tbody>\n        </table>\n\n        <script>\n            var userData{{userId}} = {{{toJS items}}};\n\n            Chart.defaults.global.legend.display = false;\n\n            new Chart(userChart{{userId}}.getContext(\"2d\"), {\n                type: 'bar',\n                data: {\n                    labels: userData{{userId}}.map(function (item,index) {\n                        return index + 1;\n                    }),\n                    datasets: [{\n                        fillColor: 'blue',\n                        label: \"Notas de los criterios\",\n                        backgroundColor: \"rgba(27,161,226,0.2)\",\n                        borderColor: \"rgba(27,161,226,1)\",\n                        borderWidth: 1,\n                        hoverBackgroundColor: \"rgba(27,161,226,0.4)\",\n                        hoverBorderColor: \"rgba(27,161,226,1)\",\n                        data: userData{{userId}}.map(function (item) {\n                            return item.gradeValue;\n                        })\n                    }]\n                },\n                options: {\n                    animation: {\n                        duration: 0\n                    },\n                    scales: {\n                        yAxes: [{\n                            ticks: {\n                                beginAtZero: true\n                            }\n                        }]\n                    }\n                }\n            });\n        </script>\n    </main>\n    <footer class=\"footer\">\n        <span>Página {{getPageNumber @index}} ({{nowLocalStr}})</span>\n    </footer>\n    <div style='page-break-after: always;'>\n    </div>\n    {{/each}}\n</body>\n\n</html>"},"lineNumber":72,"property":"content","statusCode":400,"weak":true,"logged":true,"previousOperationId":"yqjzyzxcnfl6y3o","id":"qtn5rc1mkq0jp8k","stack":"Error: Parse error on line 72:\n...       <td>{{@index + 1}}</td>         \n-----------------------^\nExpecting 'CLOSE_RAW_BLOCK', 'CLOSE', 'CLOSE_UNESCAPED', 'OPEN_SEXPR', 'CLOSE_SEXPR', 'ID', 'OPEN_BLOCK_PARAMS', 'STRING', 'NUMBER', 'BOOLEAN', 'UNDEFINED', 'NULL', 'DATA', 'SEP', got 'INVALID'\n    at Parser.parseError (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\handlebars\\dist\\cjs\\handlebars\\compiler\\parser.js:267:19)\n    at Parser.parse (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\handlebars\\dist\\cjs\\handlebars\\compiler\\parser.js:336:30)\n    at parseWithoutProcessing (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\handlebars\\dist\\cjs\\handlebars\\compiler\\base.js:46:33)\n    at HandlebarsEnvironment.parse (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\handlebars\\dist\\cjs\\handlebars\\compiler\\base.js:52:13)\n    at Object.precompile (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\handlebars\\dist\\cjs\\handlebars\\compiler\\compiler.js:485:17)\n    at hb.precompile (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\handlebars\\dist\\cjs\\handlebars.js:42:40)\n    at Object.compile (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\handlebarsEngine.js:34:52)\n    at Object.compile (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-handlebars\\lib\\worker.js:26:43)\n    at executionFn (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:201:42)\n    at sandbox.js:37:18\nwrapped by:\nError: Error when evaluating engine handlebars for template /templates/AveragePunctuations/AveragePunctuation\n(because) parse error on line 72:\n...       <td>{{@index + 1}}</td>         \n-----------------------^\nExpecting 'CLOSE_RAW_BLOCK', 'CLOSE', 'CLOSE_UNESCAPED', 'OPEN_SEXPR', 'CLOSE_SEXPR', 'ID', 'OPEN_BLOCK_PARAMS', 'STRING', 'NUMBER', 'BOOLEAN', 'UNDEFINED', 'NULL', 'DATA', 'SEP', got 'INVALID'\n    at module.exports (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\createError.js:10:13)\n    at WorkerReporter.createError (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\reporter.js:49:12)\n    at executeEngine (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:310:33)\n    at async engine.engine (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\executeEngine.js:115:14)\n    at async invokeRender (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:61:23)\n    at async WorkerReporter._render (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:142:7)\n    at async C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:224:19\n    at async processAndResponse (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:41:17)","message":"Error when evaluating engine handlebars for template /templates/AveragePunctuations/AveragePunctuation\n(because) parse error on line 72:\n...       <td>{{@index + 1}}</td>         \n-----------------------^\nExpecting 'CLOSE_RAW_BLOCK', 'CLOSE', 'CLOSE_UNESCAPED', 'OPEN_SEXPR', 'CLOSE_SEXPR', 'ID', 'OPEN_BLOCK_PARAMS', 'STRING', 'NUMBER', 'BOOLEAN', 'UNDEFINED', 'NULL', 'DATA', 'SEP', got 'INVALID'\n\n(sandbox.js line 37:18)"}
