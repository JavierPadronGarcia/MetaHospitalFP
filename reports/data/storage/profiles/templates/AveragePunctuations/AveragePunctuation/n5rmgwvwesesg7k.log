{"type":"operationStart","subtype":"profile","data":{"_id":"QR9JNkWiU7CP1jHB","timestamp":"2024-02-15T17:01:00.960Z","state":"queued","mode":"standard","creationDate":"2024-02-15T17:01:00.963Z","modificationDate":"2024-02-15T17:01:00.963Z","shortid":"m4IAUkt","$entitySet":"profiles"},"doDiffs":false,"timestamp":1708016460962,"id":"06vid7toltkpbsk","previousOperationId":null,"operationId":"ocdmoer3holcj5l"}
{"type":"log","level":"info","message":"Render request 1 queued for execution and waiting for available worker","previousOperationId":"ocdmoer3holcj5l","timestamp":1708016460962,"id":"kpz4qyyjwj24c57"}
{"type":"operationStart","subtype":"render","name":"AveragePunctuation","previousOperationId":"ocdmoer3holcj5l","timestamp":1708016460989,"id":"8uonnuj3vfu0837","previousEventId":"06vid7toltkpbsk","operationId":"43e4ksqv8vr15ua"}
{"type":"log","timestamp":1708016460991,"level":"info","message":"Starting rendering request 1","meta":{"rootId":"n5rmgwvwesesg7k","id":"n5rmgwvwesesg7k"},"id":"qahjw0kglnbcb8v","previousOperationId":"43e4ksqv8vr15ua"}
{"type":"log","timestamp":1708016460992,"level":"info","message":"Rendering template { name: AveragePunctuation, recipe: chrome-pdf, engine: handlebars, preview: false }","meta":{"rootId":"n5rmgwvwesesg7k","id":"n5rmgwvwesesg7k"},"id":"b2766a76q6t26or","previousOperationId":"43e4ksqv8vr15ua"}
{"type":"log","timestamp":1708016460995,"level":"debug","message":"Inline data specified.","meta":{"rootId":"n5rmgwvwesesg7k","id":"n5rmgwvwesesg7k"},"id":"t4aie62s2t2aiem","previousOperationId":"43e4ksqv8vr15ua"}
{"type":"log","timestamp":1708016461001,"level":"debug","message":"Executing script AveragePunctuation-script (beforeRender)","meta":{"rootId":"n5rmgwvwesesg7k","id":"n5rmgwvwesesg7k"},"id":"hg747dkalbrjb7l","previousOperationId":"43e4ksqv8vr15ua"}
{"type":"log","timestamp":1708016461322,"level":"warn","message":"Error when processing render request 1\n(because) error when evaluating custom script /templates/AveragePunctuations/AveragePunctuation-script\nrequire of \"axios\" module has been blocked. To be able to require custom modules you need to add to configuration { \"trustUserCode\": true } or enable just specific module using { sandbox: { allowedModules\": [\"axios\"] }\n\n(sandbox.js line 1:164)\n\n> 1 | const axios = require('axios');\n    |                                ^\n  2 | const jwt = require('jsonwebtoken');\n  3 |\n  4 | function getOptions(token) {\n\n\nError: require of \"axios\" module has been blocked. To be able to require custom modules you need to add to configuration { \"trustUserCode\": true } or enable just specific module using { sandbox: { allowedModules\": [\"axios\"] }\n  at sandboxRequire (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\requireSandbox.js:53:19)\n  at Object.require (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:89:30)\n  at eval (sandbox.js:1:164)\n  at async run (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:132:18)\n  at async WorkerReporter.runInSandbox [as _runInSandbox] (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:195:14)\n  at async executeScript (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-scripts\\lib\\executeScript.js:122:12)\n  at async Scripts._runScript (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-scripts\\lib\\worker.js:140:30)\n  at async Scripts.handleBeforeRender (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-scripts\\lib\\worker.js:64:7)\n  at async ListenerCollection.fire (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\listenerCollection.js:157:21)\n  at async beforeRender (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:24:5)\n  at async WorkerReporter._render (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:141:7)\n  at async C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:224:19\n  at async processAndResponse (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:41:17)","meta":{"rootId":"n5rmgwvwesesg7k","id":"n5rmgwvwesesg7k"},"id":"r7ekn3466yhwo2r","previousOperationId":"43e4ksqv8vr15ua"}
{"type":"log","timestamp":1708016461322,"level":"warn","message":"Rendering request 1 finished with error in 363 ms","meta":{"rootId":"n5rmgwvwesesg7k","id":"n5rmgwvwesesg7k"},"id":"resymdp128xej4t","previousOperationId":"43e4ksqv8vr15ua"}
{"type":"error","timestamp":1708016461325,"statusCode":400,"weak":true,"decoratedSuffix":"\n\n(sandbox.js line 1:164)\n\n> 1 | const axios = require('axios');\n    |                                ^\n  2 | const jwt = require('jsonwebtoken');\n  3 |\n  4 | function getOptions(token) {\n\n","entity":{"shortid":"LWX1OfaBwy","name":"AveragePunctuation-script","content":"const axios = require('axios');\nconst jwt = require('jsonwebtoken');\n\nfunction getOptions(token) {\n    let bearerAccess = 'Bearer ' + token;\n\n    let options = {\n        headers: {\n            'Authorization': bearerAccess,\n        }\n    }\n    return options;\n}\n\nasync function fetchUserActivities(token, params) {\n    return new Promise((resolve, reject) => {\n        const {groupId, workUnitId, caseId, assigned, finishDate} = params;\n\n        axios.get(`http://localhost:12080/api/exercises/studentsAssignedToExerciseWithDetails/${groupId}/${workUnitId}/${caseId}/${assigned}/${finishDate}`,\n            getOptions(token)).then(response => {\n            resolve(response.data)\n        }).catch(err => {\n            reject(err.message);\n        })\n    })\n}\n\nasync function beforeRender(req, res) {\n    const token = req.data.token;\n    req.data.user = jwt.decode(token);\n    req.data.userActivities = await fetchUserActivities(token, req.data.params);\n}"},"property":"content","logged":true,"previousOperationId":"43e4ksqv8vr15ua","id":"wlsie15erph5vql","stack":"Error: require of \"axios\" module has been blocked. To be able to require custom modules you need to add to configuration { \"trustUserCode\": true } or enable just specific module using { sandbox: { allowedModules\": [\"axios\"] }\n  at sandboxRequire (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\requireSandbox.js:53:19)\n  at Object.require (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:89:30)\n  at eval (sandbox.js:1:164)\n  at async run (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\createSandbox.js:132:18)\n  at async WorkerReporter.runInSandbox [as _runInSandbox] (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\sandbox\\runInSandbox.js:195:14)\n  at async executeScript (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-scripts\\lib\\executeScript.js:122:12)\n  at async Scripts._runScript (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-scripts\\lib\\worker.js:140:30)\n  at async Scripts.handleBeforeRender (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-scripts\\lib\\worker.js:64:7)\n  at async ListenerCollection.fire (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-core\\lib\\shared\\listenerCollection.js:157:21)\n  at async beforeRender (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:24:5)\n  at async WorkerReporter._render (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\render\\render.js:141:7)\n  at async C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\jsreport-core\\lib\\worker\\reporter.js:224:19\n  at async processAndResponse (C:\\Users\\Javier\\Desktop\\Proyecto\\ProyectoConjunto\\reports\\node_modules\\@jsreport\\advanced-workers\\lib\\workerHandler.js:41:17)","message":"Error when evaluating custom script /templates/AveragePunctuations/AveragePunctuation-script\nrequire of \"axios\" module has been blocked. To be able to require custom modules you need to add to configuration { \"trustUserCode\": true } or enable just specific module using { sandbox: { allowedModules\": [\"axios\"] }\n\n(sandbox.js line 1:164)\n\n> 1 | const axios = require('axios');\n    |                                ^\n  2 | const jwt = require('jsonwebtoken');\n  3 |\n  4 | function getOptions(token) {\n\n"}
